<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Peter DeWitt" />


<title>Formatted Summary Statistics and Data Summary Tables with qwraps2</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Formatted Summary Statistics and Data Summary Tables with qwraps2</h1>
<h4 class="author">Peter DeWitt</h4>


<div id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li><a href="#prerequisites-example-data-set"><span class="toc-section-number">1.1</span> Prerequisites Example Data Set</a></li>
</ul></li>
<li><a href="#review-of-summary-statistic-functions-and-formatting"><span class="toc-section-number">2</span> Review of Summary Statistic Functions and Formatting</a>
<ul>
<li><a href="#means-and-standard-deviations"><span class="toc-section-number">2.1</span> Means and Standard Deviations</a></li>
<li><a href="#mean-and-confidence-intervals"><span class="toc-section-number">2.2</span> Mean and Confidence intervals</a></li>
<li><a href="#median-and-inner-quartile-range"><span class="toc-section-number">2.3</span> Median and Inner Quartile Range</a></li>
<li><a href="#count-and-percentages"><span class="toc-section-number">2.4</span> Count and Percentages</a></li>
<li><a href="#geometric-means-and-standard-deviations"><span class="toc-section-number">2.5</span> Geometric Means and Standard Deviations</a></li>
</ul></li>
<li><a href="#building-a-data-summary-table"><span class="toc-section-number">3</span> Building a Data Summary Table</a>
<ul>
<li><a href="#easy-building-of-the-summaries"><span class="toc-section-number">3.1</span> Easy building of the summaries</a></li>
<li><a href="#adding-p-values-to-a-summary-table"><span class="toc-section-number">3.2</span> Adding P-values to a Summary Table</a></li>
<li><a href="#using-variable-labels"><span class="toc-section-number">3.3</span> Using Variable Labels</a></li>
</ul></li>
<li><a href="#session-info"><span class="toc-section-number">4</span> Session Info</a></li>
</ul>
</div>

<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(qwraps2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># define the markup language we are working in.</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># options(qwraps2_markup = &quot;latex&quot;) is also supported.</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">qwraps2_markup =</span> <span class="st">&quot;markdown&quot;</span>)</span></code></pre></div>
<div id="introduction" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>It is common for a manuscript to require a data summary table. The table might include simple summary statistics for the whole sample and for subgroups. There are several tools available to build such tables. In my opinion, though, most of those tools have nuances imposed by the creators/authors such that other users need not only understand the tool, but also think like the authors. I wrote this package to be as flexible and general as possible. I hope you like these tools and will be able to use them in your work.</p>
<p>This vignette presents the use of the <code>summary_table`,`</code>qsummary<code>,</code> and <code>qable</code> functions for quickly building data summary tables. We will be using summary statistic functions, <code>mean_sd`,`</code>median_iqr<code>,</code> `<code>n_perc</code>,<code>and others, from</code><em><a href="https://cran.r-project.org/package=qwraps2">qwraps2</a></em>` as well.</p>
<div id="prerequisites-example-data-set" class="section level2" number="1.1">
<h2 number="1.1"><span class="header-section-number">1.1</span> Prerequisites Example Data Set</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qwraps2)</span></code></pre></div>
<p>We will use the data set <code>mtcars2</code> for the examples throughout this vignette data set for examples throughout this vignette. <code>mtcars2</code> is a modified and extended version of the base R data set <code>mtcars` .` For details on the construction of the</code>mtcars2<code>data set please view the vignette:</code>vignette(“mtcars”, package = “qwraps2”)``</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars2)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mtcars2)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="do">## &#39;data.frame&#39;:    32 obs. of  19 variables:</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ make         : chr  &quot;Mazda&quot; &quot;Mazda&quot; &quot;Datsun&quot; &quot;Hornet&quot; ...</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ model        : chr  &quot;RX4&quot; &quot;RX4 Wag&quot; &quot;710&quot; &quot;4 Drive&quot; ...</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ mpg          : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ disp         : num  160 160 108 258 360 ...</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ hp           : num  110 110 93 110 175 105 245 62 95 123 ...</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ drat         : num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ wt           : num  2.62 2.88 2.32 3.21 3.44 ...</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ qsec         : num  16.5 17 18.6 19.4 17 ...</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ cyl          : num  6 6 4 6 8 6 8 4 4 6 ...</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ cyl_character: chr  &quot;6 cylinders&quot; &quot;6 cylinders&quot; &quot;4 cylinders&quot; &quot;6 cylinders&quot; ...</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ cyl_factor   : Factor w/ 3 levels &quot;6 cylinders&quot;,..: 1 1 2 1 3 1 3 2 2 1 ...</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ vs           : num  0 0 1 1 0 1 0 1 1 1 ...</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ engine       : Factor w/ 2 levels &quot;V-shaped&quot;,&quot;straight&quot;: 1 1 2 2 1 2 1 2 2 2 ...</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ am           : num  1 1 1 0 0 0 0 0 0 0 ...</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ transmission : Factor w/ 2 levels &quot;Automatic&quot;,&quot;Manual&quot;: 2 2 2 1 1 1 1 1 1 1 ...</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ gear         : num  4 4 4 3 3 3 3 4 4 4 ...</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ gear_factor  : Factor w/ 3 levels &quot;3 forward gears&quot;,..: 2 2 2 1 1 1 1 2 2 2 ...</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ carb         : num  4 4 1 1 2 1 4 2 2 4 ...</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ test_date    : POSIXct, format: &quot;1974-01-05&quot; &quot;1974-01-07&quot; ...</span></span></code></pre></div>
</div>
</div>
<div id="review-of-summary-statistic-functions-and-formatting" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Review of Summary Statistic Functions and Formatting</h1>
<div id="means-and-standard-deviations" class="section level2" number="2.1">
<h2 number="2.1"><span class="header-section-number">2.1</span> Means and Standard Deviations</h2>
<p><code>mean_sd</code> returns the (arithmetic) mean and standard deviation for numeric vector as a formatted character string. For example, <code>mean_sd(mtcars2$mpg)</code> returns the formatted string <code>20.09 &amp;plusmn; 6.03.</code> There are other options for formatting character string:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean_sd</span>(mtcars2<span class="sc">$</span>mpg)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;20.09 &amp;plusmn; 6.03&quot;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean_sd</span>(mtcars2<span class="sc">$</span>mpg, <span class="at">denote_sd =</span> <span class="st">&quot;paren&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;20.09 (6.03)&quot;</span></span></code></pre></div>
</div>
<div id="mean-and-confidence-intervals" class="section level2" number="2.2">
<h2 number="2.2"><span class="header-section-number">2.2</span> Mean and Confidence intervals</h2>
<p>If you need the mean and a confidence interval there is the function <code>mean_ci`.` which returns a</code>qwraps2_mean_ci<code>object which is a named vector with the mean, lower confidence limit, and the upper confidence limit.   The printing method for</code>qwraps2_mean_ci<code>objects is a call to the</code>frmtci<code>function.  You an modify the formatting of printed result by adjusting the arguments pasted to</code>frmtci<code>.</code></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mci <span class="ot">&lt;-</span> <span class="fu">mean_ci</span>(mtcars2<span class="sc">$</span>mpg)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mci)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  &#39;qwraps2_mean_ci&#39; Named num [1:3] 20.1 18 22.2</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  - attr(*, &quot;names&quot;)= chr [1:3] &quot;mean&quot; &quot;lcl&quot; &quot;ucl&quot;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  - attr(*, &quot;alpha&quot;)= num 0.05</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>mci</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;20.09 (18.00, 22.18)&quot;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mci, <span class="at">show_level =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;20.09 (95% CI: 18.00, 22.18)&quot;</span></span></code></pre></div>
</div>
<div id="median-and-inner-quartile-range" class="section level2" number="2.3">
<h2 number="2.3"><span class="header-section-number">2.3</span> Median and Inner Quartile Range</h2>
<p>Similar to the <code>mean_sd</code> function, the <code>median_iqr</code> returns the median and the inner quartile range (IQR) of a data vector.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median_iqr</span>(mtcars2<span class="sc">$</span>mpg)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;19.20 (15.43, 22.80)&quot;</span></span></code></pre></div>
</div>
<div id="count-and-percentages" class="section level2" number="2.4">
<h2 number="2.4"><span class="header-section-number">2.4</span> Count and Percentages</h2>
<p>The <code>n_perc</code> function is the workhorse. <code>n_perc0</code> is also provided for ease of use in the same way that base R has <code>paste</code> and <code>paste0` .`</code>n_perc<code>returns the n (%) with the percentage sign in the string,</code>n_perc0`` omits the percentage sign from the string. The latter is good for tables, the former for in-line text.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">n_perc</span>(mtcars2<span class="sc">$</span>cyl <span class="sc">==</span> <span class="dv">4</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;11 (34.38%)&quot;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">n_perc0</span>(mtcars2<span class="sc">$</span>cyl <span class="sc">==</span> <span class="dv">4</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;11 (34)&quot;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">n_perc</span>(mtcars2<span class="sc">$</span>cyl_factor <span class="sc">==</span> <span class="dv">4</span>)  <span class="co"># this returns 0 (0.00%)</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;0 (0.00%)&quot;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">n_perc</span>(mtcars2<span class="sc">$</span>cyl_factor <span class="sc">==</span> <span class="st">&quot;4 cylinders&quot;</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;11 (34.38%)&quot;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">n_perc</span>(mtcars2<span class="sc">$</span>cyl_factor <span class="sc">==</span> <span class="fu">levels</span>(mtcars2<span class="sc">$</span>cyl_factor)[<span class="dv">2</span>])</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;11 (34.38%)&quot;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># The count and percentage of 4 or 6 cylinders vehicles in the data set is</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="fu">n_perc</span>(mtcars2<span class="sc">$</span>cyl <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">6</span>))</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;18 (56.25%)&quot;</span></span></code></pre></div>
</div>
<div id="geometric-means-and-standard-deviations" class="section level2" number="2.5">
<h2 number="2.5"><span class="header-section-number">2.5</span> Geometric Means and Standard Deviations</h2>
<p>Let <span class="math inline">\(\left\{x_1, x_2, x_3, \ldots, x_n \right\}\)</span> be a sample of size <span class="math inline">\(n\)</span> with <span class="math inline">\(x_i &gt; 0\)</span> for all <span class="math inline">\(i.\)</span> Then the geometric mean, <span class="math inline">\(\mu_g,\)</span> and geometric standard deviation are</p>
<p><span class="math display">\[
\begin{equation}
  \mu_g = \left( \prod_{i = 1}^{n} x_i \right)^{\frac{1}{n}} = b^{ \sum_{i =
  1}^{n} \log_{b} x_i },
\end{equation}
\]</span> and <span class="math display">\[
\begin{equation}
  \sigma_g = b ^ {
  \sqrt{
    \frac{\sum_{i = 1}^{n} \left( \log_{b} \frac{x_i}{\mu_g} \right)^2}{n}
  }
  }
\end{equation}
\]</span> or, for clarity, <span class="math display">\[
\begin{equation}
  \log_{b} \sigma_g =
  \sqrt{ \frac{\sum_{i = 1}^{n} \left( \log_{b} \frac{x_i}{\mu_g}
  \right)^2}{n}}
\end{equation}
\]</span></p>
<p>When looking for the geometric standard deviation in R, the simple <code>exp(sd(log(x)))</code> is not exactly correct. The geometric standard deviation uses <span class="math inline">\(n,\)</span> the full sample size, in the denominator, where as the <code>sd</code> and <code>var</code> functions in R use the denominator <span class="math inline">\(n - 1.\)</span> To get the geometric standard deviation one should adjust the result by multiplying the variance by <span class="math inline">\((n - 1) / n\)</span> or the standard deviation by <span class="math inline">\(\sqrt{(n - 1) / n}.\)</span> See the example below.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">6</span>, <span class="at">min =</span> <span class="dv">4</span>, <span class="at">max =</span> <span class="dv">70</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># geometric mean</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>mu_g <span class="ot">&lt;-</span> <span class="fu">prod</span>(x) <span class="sc">**</span> (<span class="dv">1</span> <span class="sc">/</span> <span class="fu">length</span>(x))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>mu_g</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 46.50714</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">mean</span>(<span class="fu">log</span>(x)))</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 46.50714</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fl">1.2</span> <span class="sc">**</span> <span class="fu">mean</span>(<span class="fu">log</span>(x, <span class="at">base =</span> <span class="fl">1.2</span>))</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 46.50714</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co"># geometric standard deviation</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">sd</span>(<span class="fu">log</span>(x)))  <span class="do">## This is wrong</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.500247</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co"># these equations are correct</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>sigma_g <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(<span class="fu">log</span>(x <span class="sc">/</span> mu_g) <span class="sc">**</span> <span class="dv">2</span>) <span class="sc">/</span> <span class="fu">length</span>(x)))</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>sigma_g</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.448151</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">sqrt</span>((<span class="fu">length</span>(x) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> <span class="fu">length</span>(x)) <span class="sc">*</span> <span class="fu">sd</span>(<span class="fu">log</span>(x)))</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.448151</span></span></code></pre></div>
<p>The functions <code>gmean`,`</code>gvar<code>,</code> and <code>gsd</code> provide the geometric mean, variance, and standard deviation for a numeric vector.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gmean</span>(x)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 46.50714</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(<span class="fu">gmean</span>(x), mu_g)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">gvar</span>(x)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.146958</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(<span class="fu">gvar</span>(x), sigma_g<span class="sc">^</span><span class="dv">2</span>)  <span class="co"># This is supposed to be FALSE</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Mean relative difference: 0.8284385&quot;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(<span class="fu">gvar</span>(x), <span class="fu">exp</span>(<span class="fu">log</span>(sigma_g)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="fu">gsd</span>(x)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.448151</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(<span class="fu">gsd</span>(x), sigma_g)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span></code></pre></div>
<p><code>gmean_sd</code> will provide a quick way for reporting the geometric mean and geometric standard deviation in the same way that <code>mean_sd</code> does for the arithmetic mean and arithmetic standard deviation:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gmean_sd</span>(x)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;46.51 &amp;plusmn; 1.45&quot;</span></span></code></pre></div>
</div>
</div>
<div id="building-a-data-summary-table" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Building a Data Summary Table</h1>
<p>Objective: build a table reporting summary statistics for some of the variables in the <code>mtcars2</code> <code>data.frame</code> overall and within subgroups. We’ll start with something very simple and build up to something bigger.</p>
<p>Let’s report the min, max, and mean (sd) for continuous variables and n (%) for categorical variables. We will report mpg, displacement (disp), wt (weight), and gear overall and by number of cylinders and transmission type.</p>
<p><strong>END USER VISIBLE CHANGE:</strong> for qwraps2 version before 0.4.2 the <code>summary_table</code> method relied on <code>*[dplyr](https://cran.r-project.org/package=dplyr)*</code> verbs for the implementation and end user specifications. This created several limitations and required what could be considered a non-intuitive api due to the use of the rlang data pronoun <code>.data`.` Building a table with the summary based on a grouping, e.g., mpg by number of cylinders, was achieved by the use of</code>dplyr::group_by<code>to specify the group.  Further only one grouping variable was supported. Starting with version 0.5.0 the implementation of the</code>summary_table<code>and</code>qsummary<code>is based on base R methods.  The change in the implementation will make it easier for all users as the use of the tidyverse is no longer required or assumed.  The use of</code>dplyr::group_by`` is still supported, and has been improved.</p>
<p>There are two changes to the API: 1. Use of the data pronoun <code>.data`.` is no longer recommend.  In fact, it is now discouraged.  There is a test in place in version 0.5.0 which will provided a message to this effect. 2. A new function argument</code>by<code>as been added to the</code>summary_table<code>method such that the use of</code>dplyr::group_by`` is no longer needed.</p>
<p>The use of the <code>summary_table</code> use to define a summary, that is, a list-of-lists of formulas for summarizing the data.frame.</p>
<p>The inner lists are named <code>formula</code>e defining the wanted summary. The names are important, as they are used to label row groups and row names in the table.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>our_summary1 <span class="ot">&lt;-</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">&quot;Miles Per Gallon&quot;</span> <span class="ot">=</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;min&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">min</span>(mpg),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;max&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">max</span>(mpg),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;mean (sd)&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">mean_sd</span>(mpg)),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;Displacement&quot;</span> <span class="ot">=</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;min&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">min</span>(disp),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;median&quot;</span>    <span class="ot">=</span> <span class="er">~</span> <span class="fu">median</span>(disp),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;max&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">max</span>(disp),</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;mean (sd)&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">mean_sd</span>(disp)),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;Weight (1000 lbs)&quot;</span> <span class="ot">=</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;min&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">min</span>(wt),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;max&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">max</span>(wt),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;mean (sd)&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">mean_sd</span>(wt)),</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;Forward Gears&quot;</span> <span class="ot">=</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;Three&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">3</span>),</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Four&quot;</span>  <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">4</span>),</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Five&quot;</span>  <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">5</span>))</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>       )</span></code></pre></div>
<p>Building the table is done with a call to <code>summary_table</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Overall</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>whole <span class="ot">&lt;-</span> <span class="fu">summary_table</span>(mtcars2, our_summary1)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>whole</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
</tr>
</tbody>
</table>
<p>If a <code>grouped_df</code> created by a call to <code>dplyr::group_by</code> is passed to <code>summary_table</code> then the resulting table will have one column for each group.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="do">### By number of Cylinders</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>by_cyl <span class="ot">&lt;-</span> <span class="fu">summary_table</span>(dplyr<span class="sc">::</span><span class="fu">group_by</span>(mtcars2, cyl_factor), our_summary1)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>by_cyl</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>If you are not working in the tidyverse you can explicitly define the variables in the data.frame to group by, e.g.,</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary_table</span>(mtcars2, <span class="at">summaries =</span> our_summary1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;cyl_factor&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>With the refactor of the <code>summary_table</code> method in version 0.5.0 it is easier to group by multiple variables. For example, getting a column for combination of cylinders and transmission type:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>by_cyl_am <span class="ot">&lt;-</span> <span class="fu">summary_table</span>(mtcars2, <span class="at">summaries =</span> our_summary1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;am&quot;</span>))</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>by_cyl_am</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="do">## |                       |6 cylinders.0 (N = 4) |4 cylinders.0 (N = 3) |8 cylinders.0 (N = 12) |6 cylinders.1 (N = 3) |4 cylinders.1 (N = 8) |8 cylinders.1 (N = 2) |</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="do">## |:----------------------|:---------------------|:---------------------|:----------------------|:---------------------|:---------------------|:---------------------|</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="do">## |**Miles Per Gallon**   |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |17.8                  |21.5                  |10.4                   |19.7                  |21.4                  |15                    |</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |21.4                  |24.4                  |19.2                   |21                    |33.9                  |15.8                  |</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |19.12 &amp;plusmn; 1.63   |22.90 &amp;plusmn; 1.45   |15.05 &amp;plusmn; 2.77    |20.57 &amp;plusmn; 0.75   |28.07 &amp;plusmn; 4.48   |15.40 &amp;plusmn; 0.57   |</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="do">## |**Displacement**       |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |167.6                 |120.1                 |275.8                  |145                   |71.1                  |301                   |</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; median    |196.3                 |140.8                 |355                    |160                   |87.05                 |326                   |</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |258                   |146.7                 |472                    |160                   |121                   |351                   |</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |204.55 &amp;plusmn; 44.74 |135.87 &amp;plusmn; 13.97 |357.62 &amp;plusmn; 71.82  |155.00 &amp;plusmn; 8.66  |93.61 &amp;plusmn; 20.48  |326.00 &amp;plusmn; 35.36 |</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="do">## |**Weight (1000 lbs)**  |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |3.215                 |2.465                 |3.435                  |2.62                  |1.513                 |3.17                  |</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |3.46                  |3.19                  |5.424                  |2.875                 |2.78                  |3.57                  |</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |3.39 &amp;plusmn; 0.12    |2.94 &amp;plusmn; 0.41    |4.10 &amp;plusmn; 0.77     |2.75 &amp;plusmn; 0.13    |2.04 &amp;plusmn; 0.41    |3.37 &amp;plusmn; 0.28    |</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="do">## |**Forward Gears**      |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; Three     |2 (50)                |1 (33)                |12 (100)               |0 (0)                 |0 (0)                 |0 (0)                 |</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; Four      |2 (50)                |2 (67)                |0 (0)                  |2 (67)                |6 (75)                |0 (0)                 |</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; Five      |0 (0)                 |0 (0)                 |0 (0)                  |1 (33)                |2 (25)                |2 (100)               |</span></span></code></pre></div>
<p>A quick check here shows that the multiple grouping via dplyr is the same as above.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(<span class="fu">summary_table</span>(dplyr<span class="sc">::</span><span class="fu">group_by</span>(mtcars2, cyl_factor, am), <span class="at">summaries =</span> our_summary1),</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>          by_cyl_am)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span></code></pre></div>
<p>One more note, if you pass a <code>grouped_df</code> to <code>summary_table</code> while specifying the <code>by</code> argument a warning will be thrown and the <code>grouped_df</code> groupings will take precedence.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary_table</span>(dplyr<span class="sc">::</span><span class="fu">group_by</span>(mtcars2, carb), <span class="at">summaries =</span> our_summary1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;am&quot;</span>))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning in summary_table.grouped_df(dplyr::group_by(mtcars2, carb), summaries =</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="do">## our_summary1, : You&#39;ve passed a grouped_df to summary_table and specified the by</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="do">## argument. The by argument will be ignored.</span></span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="15%" />
<col width="14%" />
<col width="15%" />
<col width="13%" />
<col width="15%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">1 (N = 7)</th>
<th align="left">2 (N = 10)</th>
<th align="left">3 (N = 3)</th>
<th align="left">4 (N = 10)</th>
<th align="left">6 (N = 1)</th>
<th align="left">8 (N = 1)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">18.1</td>
<td align="left">15.2</td>
<td align="left">15.2</td>
<td align="left">10.4</td>
<td align="left">19.7</td>
<td align="left">15</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">30.4</td>
<td align="left">17.3</td>
<td align="left">21</td>
<td align="left">19.7</td>
<td align="left">15</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">25.34 ± 6.00</td>
<td align="left">22.40 ± 5.47</td>
<td align="left">16.30 ± 1.05</td>
<td align="left">15.79 ± 3.91</td>
<td align="left">19.70 ± NA</td>
<td align="left">15.00 ± NA</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">75.7</td>
<td align="left">275.8</td>
<td align="left">160</td>
<td align="left">145</td>
<td align="left">301</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">108</td>
<td align="left">143.75</td>
<td align="left">275.8</td>
<td align="left">350.5</td>
<td align="left">145</td>
<td align="left">301</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
<td align="left">400</td>
<td align="left">275.8</td>
<td align="left">472</td>
<td align="left">145</td>
<td align="left">301</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">134.27 ± 75.90</td>
<td align="left">208.16 ± 122.50</td>
<td align="left">275.80 ± 0.00</td>
<td align="left">308.82 ± 132.06</td>
<td align="left">145.00 ± NA</td>
<td align="left">301.00 ± NA</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.835</td>
<td align="left">1.513</td>
<td align="left">3.73</td>
<td align="left">2.62</td>
<td align="left">2.77</td>
<td align="left">3.57</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
<td align="left">3.845</td>
<td align="left">4.07</td>
<td align="left">5.424</td>
<td align="left">2.77</td>
<td align="left">3.57</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">2.49 ± 0.62</td>
<td align="left">2.86 ± 0.83</td>
<td align="left">3.86 ± 0.18</td>
<td align="left">3.90 ± 1.05</td>
<td align="left">2.77 ± NA</td>
<td align="left">3.57 ± NA</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">3 (43)</td>
<td align="left">4 (40)</td>
<td align="left">3 (100)</td>
<td align="left">5 (50)</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">4 (40)</td>
<td align="left">0 (0)</td>
<td align="left">4 (40)</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">0 (0)</td>
<td align="left">2 (20)</td>
<td align="left">0 (0)</td>
<td align="left">1 (10)</td>
<td align="left">1 (100)</td>
<td align="left">1 (100)</td>
</tr>
</tbody>
</table>
<p>To report a table with both the whole sample summary and conditional columns together:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>both <span class="ot">&lt;-</span> <span class="fu">cbind</span>(whole, by_cyl)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>both</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="19%" />
<col width="19%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>If you want to change the column names, do so via the <code>cnames</code> argument to <code>qable</code> via the print method for <code>qwraps2_summary_table</code> objects. Any argument that you want to send to <code>qable</code> can be sent there when explicitly using the <code>print</code> method for <code>qwraps2_summary_table</code> objects.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(both,</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">rtitle =</span> <span class="st">&quot;Summary Statistics&quot;</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">cnames =</span> <span class="fu">c</span>(<span class="st">&quot;Col 0&quot;</span>, <span class="st">&quot;Col 1&quot;</span>, <span class="st">&quot;Col 2&quot;</span>, <span class="st">&quot;Col 3&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Summary Statistics</th>
<th align="left">Col 0</th>
<th align="left">Col 1</th>
<th align="left">Col 2</th>
<th align="left">Col 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<div id="easy-building-of-the-summaries" class="section level2" number="3.1">
<h2 number="3.1"><span class="header-section-number">3.1</span> Easy building of the summaries</h2>
<p>The task of building the <code>summaries</code> list-of-lists can be tedious. The function <code>qummaries</code> is designed to make it easier. <code>qummaries</code> will use a set of predefined functions to summarize numeric columns of a data.frame, a set of arguments to pass to <code>n_perc</code> for categorical (character and factor) variables.</p>
<p>By default, calling <code>summary_table</code> will use the default summary metrics defined by <code>qsummary`.` The purpose of</code>qsummary<code>is to provide the same summary for all numeric variables within a data.frame and a single style of summary for categorical variables within the data.frame.  For example, the default summary for a set of variables from the</code>mtcars2`` data set is</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qsummary</span>(mtcars2[, <span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;wt&quot;</span>)])</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="do">## $mpg</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="do">## $mpg$minimum</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(mpg))</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="do">## $mpg$`median (IQR)`</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(mpg)</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="do">## $mpg$`mean (sd)`</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(mpg)</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="do">## $mpg$maximum</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(mpg))</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="do">## $cyl_factor</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="do">## $cyl_factor$`6 cylinders`</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::n_perc(cyl_factor == &quot;6 cylinders&quot;, digits = 0, show_symbol = FALSE)</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="do">## $cyl_factor$`4 cylinders`</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::n_perc(cyl_factor == &quot;4 cylinders&quot;, digits = 0, show_symbol = FALSE)</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="do">## $cyl_factor$`8 cylinders`</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::n_perc(cyl_factor == &quot;8 cylinders&quot;, digits = 0, show_symbol = FALSE)</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a><span class="do">## $wt</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="do">## $wt$minimum</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(wt))</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a><span class="do">## $wt$`median (IQR)`</span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(wt)</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a><span class="do">## $wt$`mean (sd)`</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(wt)</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a><span class="do">## $wt$maximum</span></span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(wt))</span></span></code></pre></div>
<p>That default summary is used for a table as follows:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary_table</span>(mtcars2[, <span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;wt&quot;</span>)])</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2[, c(“mpg”, “cyl_factor”, “wt”)] (N = 32)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">10.40</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">19.20 (15.43, 22.80)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">33.90</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7 (22)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">11 (34)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">14 (44)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   minimum</td>
<td align="left">1.51</td>
</tr>
<tr class="even">
<td align="left">   median (IQR)</td>
<td align="left">3.33 (2.58, 3.61)</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left">   maximum</td>
<td align="left">5.42</td>
</tr>
</tbody>
</table>
<p>Now, say we want to only report the minimum and maximum for each of the numeric variables and for the categorical variables we want two show the denominator for each category and for the percentage, to one digit with the percent symbol in the table. Note that when defining the list of numeric_summaries that the argument place holder is the <code>%s</code> character.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>new_summary <span class="ot">&lt;-</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qsummary</span>(mtcars2[, <span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;wt&quot;</span>)],</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">numeric_summaries =</span> <span class="fu">list</span>(<span class="st">&quot;Minimum&quot;</span> <span class="ot">=</span> <span class="st">&quot;~ min(%s)&quot;</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">&quot;Maximum&quot;</span> <span class="ot">=</span> <span class="st">&quot;~ max(%s)&quot;</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">n_perc_args =</span> <span class="fu">list</span>(<span class="at">digits =</span> <span class="dv">1</span>, <span class="at">show_symbol =</span> <span class="cn">TRUE</span>, <span class="at">show_denom =</span> <span class="st">&quot;always&quot;</span>))</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(new_summary)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="do">## List of 3</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ mpg       :List of 2</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ Minimum:Class &#39;formula&#39;  language ~min(mpg)</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ Maximum:Class &#39;formula&#39;  language ~max(mpg)</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ cyl_factor:List of 3</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ 6 cylinders:Class &#39;formula&#39;  language ~qwraps2::n_perc(cyl_factor == &quot;6 cylinders&quot;, digits = 1, show_symbol = TRUE,      show_denom = &quot;always&quot;)</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ 4 cylinders:Class &#39;formula&#39;  language ~qwraps2::n_perc(cyl_factor == &quot;4 cylinders&quot;, digits = 1, show_symbol = TRUE,      show_denom = &quot;always&quot;)</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ 8 cylinders:Class &#39;formula&#39;  language ~qwraps2::n_perc(cyl_factor == &quot;8 cylinders&quot;, digits = 1, show_symbol = TRUE,      show_denom = &quot;always&quot;)</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ wt        :List of 2</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ Minimum:Class &#39;formula&#39;  language ~min(wt)</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ Maximum:Class &#39;formula&#39;  language ~max(wt)</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt;</span></span></code></pre></div>
<p>The resulting table is:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary_table</span>(mtcars2, new_summary)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Minimum</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   Maximum</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7/32 (21.9%)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">11/32 (34.4%)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">14/32 (43.8%)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Minimum</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   Maximum</td>
<td align="left">5.424</td>
</tr>
</tbody>
</table>
<p>The summary can easily be used with a <code>by</code> argument</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary_table</span>(mtcars2, new_summary, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;cyl_factor&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Minimum</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   Maximum</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7/7 (100.0%)</td>
<td align="left">0/11 (0.0%)</td>
<td align="left">0/14 (0.0%)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">0/7 (0.0%)</td>
<td align="left">11/11 (100.0%)</td>
<td align="left">0/14 (0.0%)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">0/7 (0.0%)</td>
<td align="left">0/11 (0.0%)</td>
<td align="left">14/14 (100.0%)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Minimum</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   Maximum</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
</tbody>
</table>
</div>
<div id="adding-p-values-to-a-summary-table" class="section level2" number="3.2">
<h2 number="3.2"><span class="header-section-number">3.2</span> Adding P-values to a Summary Table</h2>
<p>There are many different ways to format data summary tables. Adding p-values to a table is just one thing that can be done in more than one way. For example, if a row group reports the counts and percentages for each level of a categorical variable across multiple (column) groups, then I would argue that the p-value resulting from a chi square test or a Fisher exact test would be best placed on the line of the table labeling the row group. However, say we reported the minimum, median, mean, and maximum with in a row group for one variable. The p-value from a t-test, or other meaningful test, for the difference in mean I would suggest should be reported on the line of the summary table for the mean, not the row group itself.</p>
<p>With so many possibilities I have reserved construction of a p-value column to be ad hoc. Perhaps an additional column wouldn’t be used and the p-values are edited into row group labels, for example.</p>
<p>If you want to add a p-value column to a <code>qwraps2_summary_table</code> object you can with some degree of ease. Note that <code>qwraps2_summary_table</code> objects are just character matrices.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(both)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  &#39;qwraps2_summary_table&#39; chr [1:13, 1:4] &quot;10.4&quot; &quot;33.9&quot; ...</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  - attr(*, &quot;dimnames&quot;)=List of 2</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ : chr [1:13] &quot;min&quot; &quot;max&quot; &quot;mean (sd)&quot; &quot;min&quot; ...</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..$ : chr [1:4] &quot;mtcars2 (N = 32)&quot; &quot;6 cylinders (N = 7)&quot; &quot;4 cylinders (N = 11)&quot; &quot;8 cylinders (N = 14)&quot;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  - attr(*, &quot;rgroups&quot;)= Named int [1:4] 3 4 3 3</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;Miles Per Gallon&quot; &quot;Displacement&quot; &quot;Weight (1000 lbs)&quot; &quot;Forward Gears&quot;</span></span></code></pre></div>
<p>Let’s added p-values for testing the difference in the mean between the three cylinder groups.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># difference in means</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>mpvals <span class="ot">&lt;-</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sapply</span>(</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">list</span>(<span class="fu">lm</span>(mpg <span class="sc">~</span> cyl_factor,  <span class="at">data =</span> mtcars2),</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">lm</span>(disp <span class="sc">~</span> cyl_factor, <span class="at">data =</span> mtcars2),</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">lm</span>(wt <span class="sc">~</span> cyl_factor,   <span class="at">data =</span> mtcars2)),</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>         extract_fpvalue)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Fisher test</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>fpval <span class="ot">&lt;-</span> <span class="fu">frmtp</span>(<span class="fu">fisher.test</span>(<span class="fu">table</span>(mtcars2<span class="sc">$</span>gear, mtcars2<span class="sc">$</span>cyl_factor))<span class="sc">$</span>p.value)</span></code></pre></div>
<p>Adding the p-value column is done as follows:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>both <span class="ot">&lt;-</span> <span class="fu">cbind</span>(both, <span class="st">&quot;P-value&quot;</span> <span class="ot">=</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>both[<span class="fu">grepl</span>(<span class="st">&quot;mean </span><span class="sc">\\</span><span class="st">(sd</span><span class="sc">\\</span><span class="st">)&quot;</span>, <span class="fu">rownames</span>(both)), <span class="st">&quot;P-value&quot;</span>] <span class="ot">&lt;-</span> mpvals</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">capture.output</span>(<span class="fu">print</span>(both))</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">grepl</span>(<span class="st">&quot;Forward Gears&quot;</span>, a)] <span class="ot">&lt;-</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub</span>(<span class="st">&quot;&amp;nbsp;&amp;nbsp;</span><span class="sc">\\</span><span class="st"> </span><span class="sc">\\</span><span class="st">|$&quot;</span>, <span class="fu">paste</span>(fpval, <span class="st">&quot;|&quot;</span>), a[<span class="fu">grepl</span>(<span class="st">&quot;Forward Gears&quot;</span>, a)])</span></code></pre></div>
<p>and the resulting table is:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(a, <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="18%" />
<col width="18%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
<th align="left">P-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
<td align="left"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
<td align="left"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
<td align="left"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Another option you might consider is to have the p-value in the row group name. Consider the following construction. The p-values are added to the names of the row groups when building the summary table.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>gear_summary <span class="ot">&lt;-</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">&quot;Forward Gears&quot;</span> <span class="ot">=</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;Three&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">3</span>),</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Four&quot;</span>  <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">4</span>),</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Five&quot;</span>  <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">5</span>)),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;Transmission&quot;</span> <span class="ot">=</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;Automatic&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(am <span class="sc">==</span> <span class="dv">0</span>),</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Manual&quot;</span>    <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(am <span class="sc">==</span> <span class="dv">1</span>))</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>gear_summary <span class="ot">&lt;-</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="fu">setNames</span>(gear_summary,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>         <span class="fu">c</span>(</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>         <span class="fu">paste</span>(<span class="st">&quot;Forward Gears: &quot;</span>, <span class="fu">frmtp</span>(<span class="fu">fisher.test</span>(<span class="fu">xtabs</span>( <span class="sc">~</span> gear <span class="sc">+</span> cyl_factor, <span class="at">data =</span> mtcars2))<span class="sc">$</span>p.value)),</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>         <span class="fu">paste</span>(<span class="st">&quot;Transmission: &quot;</span>,  <span class="fu">frmtp</span>(<span class="fu">fisher.test</span>(<span class="fu">xtabs</span>( <span class="sc">~</span> am <span class="sc">+</span> cyl_factor, <span class="at">data =</span> mtcars2))<span class="sc">$</span>p.value)))</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="fu">summary_table</span>(mtcars2, gear_summary, <span class="at">by =</span> <span class="st">&quot;cyl_factor&quot;</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Forward Gears: <em>P</em> &lt; 0.0001</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="odd">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="even">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
<tr class="odd">
<td align="left"><strong>Transmission: <em>P</em> = 0.0091</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Automatic</td>
<td align="left">4 (57)</td>
<td align="left">3 (27)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="odd">
<td align="left">   Manual</td>
<td align="left">3 (43)</td>
<td align="left">8 (73)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
</div>
<div id="using-variable-labels" class="section level2" number="3.3">
<h2 number="3.3"><span class="header-section-number">3.3</span> Using Variable Labels</h2>
<p>Some data management paradigms will use attributes to keep a label associated with a variable in a data.frame. Notable examples are the <code>*[Hmisc](https://cran.r-project.org/package=Hmisc)*</code> and <code>*[sjPlot](https://cran.r-project.org/package=sjPlot)*.</code> If you associate a label with a variable in the data frame the that label will be used when building a summary table. This feature was suggested <a href="https://github.com/dewittpe/qwraps2/issues/74" class="uri">https://github.com/dewittpe/qwraps2/issues/74</a> and implemented thusly:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>new_data_frame <span class="ot">&lt;-</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">age =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">20</span>, <span class="dv">24</span>, <span class="dv">17</span>, <span class="dv">43</span>),</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">edu =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">2</span>),</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">rt  =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.04</span>, <span class="fl">0.02</span>, <span class="fl">0.10</span>, <span class="fl">0.06</span>))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a label for the variables</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(new_data_frame<span class="sc">$</span>age, <span class="st">&quot;label&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Age in years&quot;</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(new_data_frame<span class="sc">$</span>rt,  <span class="st">&quot;label&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Reaction time&quot;</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># mistakenly set the attribute to name instead of label</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(new_data_frame<span class="sc">$</span>edu, <span class="st">&quot;name&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Education&quot;</span></span></code></pre></div>
<p>When calling <code>qsummary</code> the provide labels for the age and rt variables will be used. Since the attribute “label” does not exist for the edu variable, edu will be used in the output.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qsummary</span>(new_data_frame)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Age in years`</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Age in years`$minimum</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(age))</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Age in years`$`median (IQR)`</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(age)</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Age in years`$`mean (sd)`</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(age)</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Age in years`$maximum</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(age))</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="do">## $edu</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="do">## $edu$minimum</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(edu))</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="do">## $edu$`median (IQR)`</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(edu)</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="do">## $edu$`mean (sd)`</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(edu)</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="do">## $edu$maximum</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(edu))</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Reaction time`</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Reaction time`$minimum</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(rt))</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Reaction time`$`median (IQR)`</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(rt)</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Reaction time`$`mean (sd)`</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(rt)</span></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a><span class="do">## $`Reaction time`$maximum</span></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(rt))</span></span></code></pre></div>
<p>This behavior is also seen with the <code>summary_table</code> call</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary_table</span>(new_data_frame)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">new_data_frame (N = 5)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Age in years</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">17.00</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">20.00 (18.00, 24.00)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">24.40 ± 10.74</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">43.00</td>
</tr>
<tr class="even">
<td align="left"><strong>edu</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   minimum</td>
<td align="left">1.00</td>
</tr>
<tr class="even">
<td align="left">   median (IQR)</td>
<td align="left">2.00 (1.00, 3.00)</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">2.40 ± 1.67</td>
</tr>
<tr class="even">
<td align="left">   maximum</td>
<td align="left">5.00</td>
</tr>
<tr class="odd">
<td align="left"><strong>Reaction time</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">0.01</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">0.04 (0.02, 0.06)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">0.05 ± 0.04</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">0.10</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="session-info" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Session Info</h1>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sessionInfo</span>(), <span class="at">local =</span> <span class="cn">FALSE</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="do">## R version 4.0.4 (2021-02-15)</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Platform: x86_64-apple-darwin17.0 (64-bit)</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Running under: macOS Big Sur 10.16</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Matrix products: default</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="do">## BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="do">## LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="do">## attached base packages:</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="do">## other attached packages:</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] survival_3.2-7 ggplot2_3.3.3  qwraps2_0.5.2 </span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="do">## loaded via a namespace (and not attached):</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] Rcpp_1.0.6        highr_0.8         bslib_0.2.4       compiler_4.0.4   </span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] pillar_1.5.1      jquerylib_0.1.3   tools_4.0.4       digest_0.6.27    </span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] lattice_0.20-41   jsonlite_1.7.2    evaluate_0.14     lifecycle_1.0.0  </span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] tibble_3.1.0      gtable_0.3.0      debugme_1.1.0     pkgconfig_2.0.3  </span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] rlang_0.4.10      Matrix_1.3-2      DBI_1.1.1         yaml_2.2.1       </span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] xfun_0.21         withr_2.4.1       stringr_1.4.0     dplyr_1.0.5      </span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] knitr_1.31        generics_0.1.0    sass_0.3.1        vctrs_0.3.6      </span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] tidyselect_1.1.0  grid_4.0.4        glue_1.4.2        R6_2.5.0         </span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [33] fansi_0.4.2       rmarkdown_2.7     farver_2.1.0      purrr_0.3.4      </span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [37] magrittr_2.0.1    splines_4.0.4     scales_1.1.1      htmltools_0.5.1.1</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a><span class="do">## [41] ellipsis_0.3.1    assertthat_0.2.1  colorspace_2.0-0  labeling_0.4.2   </span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [45] utf8_1.1.4        stringi_1.5.3     munsell_0.5.0     crayon_1.4.1.9000</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
