<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Peter E. DeWitt" />


<title>qwraps2: Summary Table</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">qwraps2: Summary Table</h1>
<h4 class="author">Peter E. DeWitt</h4>


<div id="TOC">
<ul>
<li><a href="#qable" id="toc-qable"><span class="toc-section-number">1</span> qable</a>
<ul>
<li><a href="#kable-vs-qable" id="toc-kable-vs-qable"><span class="toc-section-number">1.1</span> kable vs qable</a></li>
<li><a href="#example-regression-model-summary-table" id="toc-example-regression-model-summary-table"><span class="toc-section-number">1.2</span> Example: Regression Model Summary
Table</a></li>
</ul></li>
<li><a href="#summary_table" id="toc-summary_table"><span class="toc-section-number">2</span> summary_table</a>
<ul>
<li><a href="#defining-a-summary" id="toc-defining-a-summary"><span class="toc-section-number">2.1</span> Defining a Summary</a></li>
<li><a href="#summarize-by" id="toc-summarize-by"><span class="toc-section-number">2.2</span> Summarize by</a></li>
<li><a href="#cbind-summary_table" id="toc-cbind-summary_table"><span class="toc-section-number">2.3</span> cbind summary_table</a></li>
<li><a href="#adding-p-values-to-a-summary-table" id="toc-adding-p-values-to-a-summary-table"><span class="toc-section-number">2.4</span> Adding P-values to a Summary
Table</a></li>
<li><a href="#rbind-summary_table" id="toc-rbind-summary_table"><span class="toc-section-number">2.5</span> rbind summary_table</a></li>
<li><a href="#using-variable-labels" id="toc-using-variable-labels"><span class="toc-section-number">2.6</span> Using Variable Labels</a></li>
<li><a href="#alternative-building-of-the-summaries" id="toc-alternative-building-of-the-summaries"><span class="toc-section-number">2.7</span> Alternative building of the
summaries</a></li>
</ul></li>
<li><a href="#session-info" id="toc-session-info"><span class="toc-section-number">3</span> Session Info</a></li>
</ul>
</div>

<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(qwraps2)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">options</span>(<span class="at">qwraps2_markup =</span> <span class="st">&quot;markdown&quot;</span>)</span></code></pre></div>
<p>The <code>summary_table</code> method appears to be the most popular
and widely used feature of the <em><a href="https://cran.r-project.org/package=qwraps2">qwraps2</a></em>
package. As such, this vignette is provided to give as much detail on
the use of the method, and the underlying <code>qable</code> method for
quickly building well formatted summary tables.</p>
<div id="qable" class="section level1" number="1">
<h1><span class="header-section-number">1</span> qable</h1>
<p><code>qable</code> builds a formatted character matrix from inputs
and then renders a table via knitr::kable. The primary objective of this
function is to allow for easy construction of row groups.</p>
<div id="kable-vs-qable" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> kable vs qable</h2>
<p>For a simple example we will use the following data set with a
grouping variable, subject id, and two variables, V2, and V3. For
simplicity, we will order the data by group and id as well.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>       <span class="at">group =</span> <span class="fu">sample</span>(<span class="at">size =</span> <span class="dv">15</span>, <span class="fu">paste0</span>(<span class="st">&quot;grp&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>     , <span class="at">id =</span> <span class="fu">sample</span>(<span class="at">size =</span> <span class="dv">15</span>, <span class="at">x =</span> LETTERS)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>     , <span class="at">V2 =</span> <span class="fu">rnorm</span>(<span class="dv">15</span>)</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>     , <span class="at">V3 =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>), <span class="at">times =</span> <span class="dv">5</span>)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>     )</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>d <span class="ot">&lt;-</span> d[<span class="fu">order</span>(d<span class="sc">$</span>group, d<span class="sc">$</span>id), ]</span></code></pre></div>
<p>Making a simple table via kable:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(d, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">group</th>
<th align="left">id</th>
<th align="right">V2</th>
<th align="right">V3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">grp1</td>
<td align="left">D</td>
<td align="right">0.3584021</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">grp1</td>
<td align="left">H</td>
<td align="right">-0.9491808</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">grp1</td>
<td align="left">I</td>
<td align="right">1.7232308</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">grp1</td>
<td align="left">J</td>
<td align="right">2.1157556</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">grp1</td>
<td align="left">O</td>
<td align="right">-0.1616986</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">grp2</td>
<td align="left">B</td>
<td align="right">0.6707038</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">grp2</td>
<td align="left">E</td>
<td align="right">0.3024309</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">grp2</td>
<td align="left">K</td>
<td align="right">-0.7045514</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">grp2</td>
<td align="left">R</td>
<td align="right">0.9469132</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">grp2</td>
<td align="left">V</td>
<td align="right">0.7881406</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">grp4</td>
<td align="left">M</td>
<td align="right">-0.3941145</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">grp4</td>
<td align="left">P</td>
<td align="right">-0.8798365</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">grp4</td>
<td align="left">Y</td>
<td align="right">0.0361357</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">grp5</td>
<td align="left">A</td>
<td align="right">0.1674409</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">grp5</td>
<td align="left">C</td>
<td align="right">1.9355718</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>The group column is great for data analysis, but is not the best for
human readability. This is where <code>qable</code> can be useful. Start
by building a named numeric column with the name being the row group
name and the value the number of rows. For the <em>ordered</em> data
this is a simple call to table:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">c</span>(<span class="fu">table</span>(d<span class="sc">$</span>group))</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="do">## grp1 grp2 grp4 grp5 </span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="do">##    5    5    3    2</span></span></code></pre></div>
<p>If we pass that named vector to <code>qable</code> as the rgroup and
with specify the id column as the row names we have the same information
but in format that is better for humans:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">qable</span>(  <span class="at">x =</span> d[, <span class="fu">c</span>(<span class="st">&quot;V2&quot;</span>, <span class="st">&quot;V3&quot;</span>)]</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>      , <span class="at">rgroup =</span> <span class="fu">c</span>(<span class="fu">table</span>(d<span class="sc">$</span>group)) <span class="co"># row group</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>      , <span class="at">rnames =</span> d<span class="sc">$</span>id              <span class="co"># row names</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">V2</th>
<th align="left">V3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>grp1</strong></td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   D</td>
<td align="left">0.358402056802064</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">   H</td>
<td align="left">-0.949180809687611</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">   I</td>
<td align="left">1.72323079854894</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">   J</td>
<td align="left">2.11575561323695</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">   O</td>
<td align="left">-0.161698647607024</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left"><strong>grp2</strong></td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   B</td>
<td align="left">0.67070382675052</td>
<td align="left">2</td>
</tr>
<tr class="odd">
<td align="left">   E</td>
<td align="left">0.3024309248682</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">   K</td>
<td align="left">-0.704551365955043</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">   R</td>
<td align="left">0.946913174943256</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">   V</td>
<td align="left">0.788140622823556</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left"><strong>grp4</strong></td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   M</td>
<td align="left">-0.394114506412192</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">   P</td>
<td align="left">-0.879836528531105</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">   Y</td>
<td align="left">0.0361357384849679</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left"><strong>grp5</strong></td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   A</td>
<td align="left">0.167440904355584</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">   C</td>
<td align="left">1.93557176599585</td>
<td align="left">2</td>
</tr>
</tbody>
</table>
<p>The return object from <code>qable</code> is a character matrix.
Also, when a data.frame is passed to <code>qable</code> it is coerced to
a matrix before anything else, as such, any formatting of numeric values
or other strings should be done before calling <code>qable</code>.</p>
<p>To pass arguments to knitr::kable do so via the
<code>kable_args</code> argument.</p>
</div>
<div id="example-regression-model-summary-table" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Example: Regression
Model Summary Table</h2>
<p>We will build a summary table for a regression model with row groups
for conceptually similar predictors.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>model <span class="ot">&lt;-</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="fu">glm</span>(spam <span class="sc">~</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>        word_freq_your <span class="sc">+</span> word_freq_conference <span class="sc">+</span> word_freq_business <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>        char_freq_semicolon <span class="sc">+</span> char_freq_exclamation_point <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>        capital_run_length_total <span class="sc">+</span> capital_run_length_longest</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>    , <span class="at">data =</span> spambase</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>    , <span class="at">family =</span> <span class="fu">binomial</span>()</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  )</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="do">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>model_summary <span class="ot">&lt;-</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a>    <span class="at">parameter =</span> <span class="fu">names</span>(<span class="fu">coef</span>(model))</span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a>  , <span class="at">odd_ratio =</span> <span class="fu">frmt</span>(<span class="fu">exp</span>(<span class="fu">coef</span>(model)), <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a>  , <span class="at">lcl       =</span> <span class="fu">frmt</span>(<span class="fu">exp</span>(<span class="fu">coef</span>(model) <span class="sc">+</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(model)))), <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a>  , <span class="at">ucl       =</span> <span class="fu">frmt</span>(<span class="fu">exp</span>(<span class="fu">coef</span>(model) <span class="sc">+</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(model)))), <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a>  , <span class="at">pval      =</span> <span class="fu">frmtp</span>(<span class="fu">summary</span>(model)<span class="sc">$</span>coef[, <span class="dv">4</span>])</span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a>  )</span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a><span class="fu">qable</span>(model_summary[<span class="sc">-</span><span class="dv">1</span>, <span class="fu">c</span>(<span class="st">&#39;odd_ratio&#39;</span>, <span class="st">&#39;lcl&#39;</span>, <span class="st">&#39;ucl&#39;</span>, <span class="st">&#39;pval&#39;</span>)]</span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a>      , <span class="at">rtitle =</span> <span class="st">&quot;Parameter&quot;</span></span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a>      , <span class="at">rgroup =</span> <span class="fu">c</span>(<span class="st">&quot;Word Frequency&quot;</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">&quot;Character Frequency&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Capital Run Length&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a>      , <span class="at">rnames =</span> <span class="fu">c</span>(<span class="st">&quot;Your&quot;</span>, <span class="st">&quot;Conference&quot;</span>, <span class="st">&quot;Business&quot;</span>, <span class="st">&quot;;&quot;</span>, <span class="st">&quot;!&quot;</span>, <span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Longest&quot;</span>)</span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a>      , <span class="at">kable_args =</span> <span class="fu">list</span>(<span class="at">align =</span> <span class="st">&quot;lrrrr&quot;</span>, <span class="at">caption =</span> <span class="st">&quot;Regression Model Summary&quot;</span>)</span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a>      , <span class="at">cnames =</span> <span class="fu">c</span>(<span class="st">&quot;Odds Ratio&quot;</span>, <span class="st">&quot;Lower Conf. Limit&quot;</span>, <span class="st">&quot;Upper Conf. Limit&quot;</span>, <span class="st">&quot;P-value&quot;</span>)</span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a>      )</span></code></pre></div>
<table>
<caption>Regression Model Summary</caption>
<colgroup>
<col width="27%" />
<col width="15%" />
<col width="20%" />
<col width="20%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Parameter</th>
<th align="right">Odds Ratio</th>
<th align="right">Lower Conf. Limit</th>
<th align="right">Upper Conf. Limit</th>
<th align="right">P-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Word Frequency</strong></td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
</tr>
<tr class="even">
<td align="left">   Your</td>
<td align="right">1.802</td>
<td align="right">1.678</td>
<td align="right">1.934</td>
<td align="right"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left">   Conference</td>
<td align="right">0.001</td>
<td align="right">0.000</td>
<td align="right">0.012</td>
<td align="right"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left">   Business</td>
<td align="right">3.573</td>
<td align="right">2.721</td>
<td align="right">4.693</td>
<td align="right"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left"><strong>Character Frequency</strong></td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
</tr>
<tr class="even">
<td align="left">   ;</td>
<td align="right">0.325</td>
<td align="right">0.136</td>
<td align="right">0.779</td>
<td align="right"><em>P</em> = 0.0117</td>
</tr>
<tr class="odd">
<td align="left">   !</td>
<td align="right">4.148</td>
<td align="right">3.336</td>
<td align="right">5.158</td>
<td align="right"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Capital Run Length</strong></td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
</tr>
<tr class="odd">
<td align="left">   Total</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">1.001</td>
<td align="right"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left">   Longest</td>
<td align="right">1.017</td>
<td align="right">1.014</td>
<td align="right">1.019</td>
<td align="right"><em>P</em> &lt; 0.0001</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="summary_table" class="section level1" number="2">
<h1><span class="header-section-number">2</span> summary_table</h1>
<p><code>summary_table</code> was developed with the primary objective
to build well formatted and easy to read data summary tables.
Conceptually, the construction of these tables start by building a
“list-of-lists” of summaries and then generating these summaries for
specific groupings of the data set.</p>
<div id="defining-a-summary" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Defining a
Summary</h2>
<p>We will use the <code>mtcars2</code> data set for these examples.
We’ll start with something very simple and build up to something
bigger.</p>
<p>Let’s report the min, max, and mean (sd) for continuous variables and
n (%) for categorical variables. We will report mpg, displacement
(disp), wt (weight), and gear overall and by number of cylinders and
transmission type.</p>
<p>The use of the <code>summary_table</code> use to define a summary,
that is, a list-of-lists of formulas for summarizing the data.frame.</p>
<p>The inner lists are named formulae defining the wanted summary. The
names are important, as they are used to label row groups and row names
in the table.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>our_summary1 <span class="ot">&lt;-</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">&quot;Miles Per Gallon&quot;</span> <span class="ot">=</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;min&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">min</span>(mpg),</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>            <span class="st">&quot;max&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">max</span>(mpg),</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>            <span class="st">&quot;mean (sd)&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">mean_sd</span>(mpg)),</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>       <span class="st">&quot;Displacement&quot;</span> <span class="ot">=</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;min&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">min</span>(disp),</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>            <span class="st">&quot;median&quot;</span>    <span class="ot">=</span> <span class="er">~</span> <span class="fu">median</span>(disp),</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>            <span class="st">&quot;max&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">max</span>(disp),</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>            <span class="st">&quot;mean (sd)&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">mean_sd</span>(disp)),</span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>       <span class="st">&quot;Weight (1000 lbs)&quot;</span> <span class="ot">=</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;min&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">min</span>(wt),</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>            <span class="st">&quot;max&quot;</span>       <span class="ot">=</span> <span class="er">~</span> <span class="fu">max</span>(wt),</span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a>            <span class="st">&quot;mean (sd)&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">mean_sd</span>(wt)),</span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a>       <span class="st">&quot;Forward Gears&quot;</span> <span class="ot">=</span></span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;Three&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">3</span>),</span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a>            <span class="st">&quot;Four&quot;</span>  <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">4</span>),</span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a>            <span class="st">&quot;Five&quot;</span>  <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">5</span>))</span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a>       )</span></code></pre></div>
<p>Building the table is done with a call to <code>summary_table</code>
and rendered in Table @ref(tab:mtcars_whole).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>whole <span class="ot">&lt;-</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="fu">summary_table</span>(</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>    <span class="at">x =</span> mtcars2</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  , <span class="at">summaries =</span> our_summary1</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  , <span class="at">qable_args =</span> <span class="fu">list</span>(<span class="at">kable_args =</span> <span class="fu">list</span>(<span class="at">caption =</span> <span class="st">&quot;mtcars2 data summary&quot;</span>))</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>  )</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>whole</span></code></pre></div>
<table>
<caption>mtcars2 data summary</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
</tr>
</tbody>
</table>
</div>
<div id="summarize-by" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Summarize by</h2>
<p>Use the <code>by</code> argument to specify a grouping variable and
generate the same summary as above but for subsets of the data. When the
<code>by</code> column is a factor, the columns will be in the order of
the levels of the factor. In comparison, the column order is
alphabetical if the variable is just a character.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>by_cylf <span class="ot">&lt;-</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">summary_table</span>(</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    <span class="at">x =</span> mtcars2</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  , <span class="at">summaries =</span> our_summary1</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  , <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;cyl_factor&quot;</span>)</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  , <span class="at">qable_args =</span> <span class="fu">list</span>(<span class="at">rtitle =</span> <span class="st">&quot;Summary Statistics&quot;</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>                      , <span class="at">kable_args =</span> <span class="fu">list</span>(<span class="at">caption =</span> <span class="st">&quot;mtcars2 data summary by cyl_factor&quot;</span>))</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  )</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>by_cylf</span></code></pre></div>
<table>
<caption>mtcars2 data summary by cyl_factor</caption>
<colgroup>
<col width="25%" />
<col width="24%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Summary Statistics</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>by_cylc <span class="ot">&lt;-</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="fu">summary_table</span>(</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>    <span class="at">x =</span> mtcars2</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  , <span class="at">summaries =</span> our_summary1</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  , <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;cyl_character&quot;</span>)</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>  , <span class="at">qable_args =</span> <span class="fu">list</span>(<span class="at">rtitle =</span> <span class="st">&quot;Summary Statistics&quot;</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>                      , <span class="at">kable_args =</span> <span class="fu">list</span>(<span class="at">caption =</span> <span class="st">&quot;mtcars2 data summary by cyl_character&quot;</span>))</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>  )</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>by_cylc</span></code></pre></div>
<table>
<caption>mtcars2 data summary by cyl_character</caption>
<colgroup>
<col width="25%" />
<col width="24%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Summary Statistics</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">21.4</td>
<td align="left">17.8</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">108</td>
<td align="left">167.6</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">146.7</td>
<td align="left">258</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.19</td>
<td align="left">3.46</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">1 (9)</td>
<td align="left">2 (29)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">8 (73)</td>
<td align="left">4 (57)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">2 (18)</td>
<td align="left">1 (14)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>You are also able to generate summaries by multiple columns. For
example, Table @ref(tab:mtcars2_by_cyl_transmission) reports the summary
by the combination of the number of cylinders and the type of
transmission.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>by_cyl_am <span class="ot">&lt;-</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="fu">summary_table</span>(</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>    <span class="at">x =</span> mtcars2</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  , <span class="at">summaries =</span> our_summary1</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  , <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;transmission&quot;</span>)</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>  )</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>by_cyl_am</span></code></pre></div>
<table>
<colgroup>
<col width="11%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">6 cylinders.Automatic (N = 4)</th>
<th align="left">4 cylinders.Automatic (N = 3)</th>
<th align="left">8 cylinders.Automatic (N = 12)</th>
<th align="left">6 cylinders.Manual (N = 3)</th>
<th align="left">4 cylinders.Manual (N = 8)</th>
<th align="left">8 cylinders.Manual (N = 2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">17.8</td>
<td align="left">21.5</td>
<td align="left">10.4</td>
<td align="left">19.7</td>
<td align="left">21.4</td>
<td align="left">15</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">21.4</td>
<td align="left">24.4</td>
<td align="left">19.2</td>
<td align="left">21</td>
<td align="left">33.9</td>
<td align="left">15.8</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">19.12 ± 1.63</td>
<td align="left">22.90 ± 1.45</td>
<td align="left">15.05 ± 2.77</td>
<td align="left">20.57 ± 0.75</td>
<td align="left">28.07 ± 4.48</td>
<td align="left">15.40 ± 0.57</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">167.6</td>
<td align="left">120.1</td>
<td align="left">275.8</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">301</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">140.8</td>
<td align="left">355</td>
<td align="left">160</td>
<td align="left">87.05</td>
<td align="left">326</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
<td align="left">160</td>
<td align="left">121</td>
<td align="left">351</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">204.55 ± 44.74</td>
<td align="left">135.87 ± 13.97</td>
<td align="left">357.62 ± 71.82</td>
<td align="left">155.00 ± 8.66</td>
<td align="left">93.61 ± 20.48</td>
<td align="left">326.00 ± 35.36</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">3.215</td>
<td align="left">2.465</td>
<td align="left">3.435</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
<td align="left">2.875</td>
<td align="left">2.78</td>
<td align="left">3.57</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.39 ± 0.12</td>
<td align="left">2.94 ± 0.41</td>
<td align="left">4.10 ± 0.77</td>
<td align="left">2.75 ± 0.13</td>
<td align="left">2.04 ± 0.41</td>
<td align="left">3.37 ± 0.28</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">2 (50)</td>
<td align="left">1 (33)</td>
<td align="left">12 (100)</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">2 (50)</td>
<td align="left">2 (67)</td>
<td align="left">0 (0)</td>
<td align="left">2 (67)</td>
<td align="left">6 (75)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
<td align="left">1 (33)</td>
<td align="left">2 (25)</td>
<td align="left">2 (100)</td>
</tr>
</tbody>
</table>
</div>
<div id="cbind-summary_table" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> cbind
summary_table</h2>
<p>It is common that I will want to have a summary table with the first
column reporting for the whole data sets and the additional columns for
subsets of the data set. The returned objects from
<code>summary_table</code> can be joined together via <code>cbind</code>
assuming that the row groupings (summaries) are the same.</p>
<p>Note: the <code>kable_args</code> of the first item passed to
<code>cbind</code> will be assigned to the resulting object (Table
@ref(tab:mtcars2_cbind)). However, there is an easy way to modify the
qable_args and kable_args via the print method.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>both <span class="ot">&lt;-</span> <span class="fu">cbind</span>(whole, by_cylf)</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>both</span></code></pre></div>
<table style="width:100%;">
<caption>mtcars2 data summary</caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="19%" />
<col width="19%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>If you want to update how a summary table is printed, you can do so
by calling the print method explicitly while passing a new set of
<code>qable_args</code>, see Table @ref(tab:updated_both).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="fu">print</span>(both,</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>      <span class="at">qable_args =</span> <span class="fu">list</span>(</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>        <span class="at">rtitle =</span> <span class="st">&quot;ROW-TITLE&quot;</span>,</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>        <span class="at">cnames =</span> <span class="fu">c</span>(<span class="st">&quot;Col 0&quot;</span>, <span class="st">&quot;Col 1&quot;</span>, <span class="st">&quot;Col 2&quot;</span>, <span class="st">&quot;Col 3&quot;</span>),</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>        <span class="at">kable_args =</span> <span class="fu">list</span>(</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>          <span class="at">align =</span> <span class="st">&quot;lcrcr&quot;</span>,</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">&quot;mtcars2 data summary - new caption&quot;</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>        )</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>      ))</span></code></pre></div>
<table style="width:100%;">
<caption>mtcars2 data summary - new caption</caption>
<colgroup>
<col width="20%" />
<col width="21%" />
<col width="19%" />
<col width="20%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">ROW-TITLE</th>
<th align="center">Col 0</th>
<th align="right">Col 1</th>
<th align="center">Col 2</th>
<th align="right">Col 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="center">  </td>
<td align="right">  </td>
<td align="center">  </td>
<td align="right">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="center">10.4</td>
<td align="right">17.8</td>
<td align="center">21.4</td>
<td align="right">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="center">33.9</td>
<td align="right">21.4</td>
<td align="center">33.9</td>
<td align="right">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="center">20.09 ± 6.03</td>
<td align="right">19.74 ± 1.45</td>
<td align="center">26.66 ± 4.51</td>
<td align="right">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="center">  </td>
<td align="right">  </td>
<td align="center">  </td>
<td align="right">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="center">71.1</td>
<td align="right">145</td>
<td align="center">71.1</td>
<td align="right">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="center">196.3</td>
<td align="right">167.6</td>
<td align="center">108</td>
<td align="right">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="center">472</td>
<td align="right">258</td>
<td align="center">146.7</td>
<td align="right">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="center">230.72 ± 123.94</td>
<td align="right">183.31 ± 41.56</td>
<td align="center">105.14 ± 26.87</td>
<td align="right">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="center">  </td>
<td align="right">  </td>
<td align="center">  </td>
<td align="right">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="center">1.513</td>
<td align="right">2.62</td>
<td align="center">1.513</td>
<td align="right">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="center">5.424</td>
<td align="right">3.46</td>
<td align="center">3.19</td>
<td align="right">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="center">3.22 ± 0.98</td>
<td align="right">3.12 ± 0.36</td>
<td align="center">2.29 ± 0.57</td>
<td align="right">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="center">  </td>
<td align="right">  </td>
<td align="center">  </td>
<td align="right">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="center">15 (47)</td>
<td align="right">2 (29)</td>
<td align="center">1 (9)</td>
<td align="right">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="center">12 (38)</td>
<td align="right">4 (57)</td>
<td align="center">8 (73)</td>
<td align="right">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="center">5 (16)</td>
<td align="right">1 (14)</td>
<td align="center">2 (18)</td>
<td align="right">2 (14)</td>
</tr>
</tbody>
</table>
</div>
<div id="adding-p-values-to-a-summary-table" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Adding P-values to a
Summary Table</h2>
<p>There are many different ways to format data summary tables. Adding
p-values to a table is just one thing that can be done in more than one
way. For example, if a row group reports the counts and percentages for
each level of a categorical variable across multiple (column) groups,
then I would argue that the p-value resulting from a chi square test or
a Fisher exact test would be best placed on the line of the table
labeling the row group. However, say we reported the minimum, median,
mean, and maximum with in a row group for one variable. The p-value from
a t-test, or other meaningful test for the difference in mean, I would
suggest should be reported on the line of the summary table for the
mean, not the row group itself.</p>
<p>With so many possibilities I have reserved construction of a p-value
column to be ad hoc. Perhaps an additional column wouldn’t be used and
the p-values are edited into row group labels, for example.</p>
<p>If you want to add a p-value column, or any other column(s) to a
<code>qwraps2_summary_table</code> object you can with some degree of
ease. Note that <code>qwraps2_summary_table</code> objects are just
character matrices with additional attributes.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">str</span>(both)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="do">##  &#39;qwraps2_summary_table&#39; chr [1:17, 1:5] &quot;**Miles Per Gallon**&quot; ...</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="do">##  - attr(*, &quot;dimnames&quot;)=List of 2</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="do">##   ..$ : NULL</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="do">##   ..$ : chr [1:5] &quot;&quot; &quot;mtcars2 (N = 32)&quot; &quot;6 cylinders (N = 7)&quot; &quot;4 cylinders (N = 11)&quot; ...</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="do">##  - attr(*, &quot;qable_args&quot;)=List of 6</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="do">##   ..$ rtitle    : chr &quot;&quot;</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="do">##   ..$ rgroup    : Named int [1:4] 3 4 3 3</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="do">##   .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;Miles Per Gallon&quot; &quot;Displacement&quot; &quot;Weight (1000 lbs)&quot; &quot;Forward Gears&quot;</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="do">##   ..$ rnames    : chr [1:13] &quot;min&quot; &quot;max&quot; &quot;mean (sd)&quot; &quot;min&quot; ...</span></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="do">##   ..$ cnames    : chr [1:5] &quot;&quot; &quot;mtcars2 (N = 32)&quot; &quot;6 cylinders (N = 7)&quot; &quot;4 cylinders (N = 11)&quot; ...</span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="do">##   ..$ markup    : chr &quot;markdown&quot;</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="do">##   ..$ kable_args:List of 1</span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a><span class="do">##   .. ..$ caption: chr &quot;mtcars2 data summary&quot;</span></span></code></pre></div>
<p>For this example, we will added p-values for testing the difference
in the mean between the three cylinder groups and the distribution of
forward gears by cylinder groups.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># difference in means</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>mpvals <span class="ot">&lt;-</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>  <span class="fu">sapply</span>(</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>         <span class="fu">list</span>(<span class="at">mpg  =</span> <span class="fu">lm</span>(mpg  <span class="sc">~</span> cyl_factor, <span class="at">data =</span> mtcars2),</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>              <span class="at">disp =</span> <span class="fu">lm</span>(disp <span class="sc">~</span> cyl_factor, <span class="at">data =</span> mtcars2),</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>              <span class="at">wt   =</span> <span class="fu">lm</span>(wt   <span class="sc">~</span> cyl_factor, <span class="at">data =</span> mtcars2)),</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>         extract_fpvalue)</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="co"># Fisher test</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>fpval <span class="ot">&lt;-</span> <span class="fu">frmtp</span>(<span class="fu">fisher.test</span>(<span class="fu">table</span>(mtcars2<span class="sc">$</span>gear, mtcars2<span class="sc">$</span>cyl_factor))<span class="sc">$</span>p.value)</span></code></pre></div>
<p>In this case, adding the p-value column, is done by creating a empty
column and then writing in the needed p-value on the wanted rows. This
could be within a row group (tests for means) or for a row group (Fisher
test).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>both <span class="ot">&lt;-</span> <span class="fu">cbind</span>(both, <span class="st">&quot;P-value&quot;</span> <span class="ot">=</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>both[<span class="fu">grepl</span>(<span class="st">&quot;mean </span><span class="sc">\\</span><span class="st">(sd</span><span class="sc">\\</span><span class="st">)&quot;</span>, both[, <span class="dv">1</span>]), <span class="st">&quot;P-value&quot;</span>] <span class="ot">&lt;-</span> mpvals</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>both[<span class="fu">grepl</span>(<span class="st">&quot;Forward Gears&quot;</span>, both[, <span class="dv">1</span>]), <span class="st">&quot;P-value&quot;</span>] <span class="ot">&lt;-</span> fpval</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">print</span>(both, <span class="at">qable_args =</span> <span class="fu">list</span>(<span class="at">kable_args =</span> <span class="fu">list</span>(<span class="at">caption =</span> <span class="st">&quot;mtcars2 summary with p-values&quot;</span>)))</span></code></pre></div>
<table style="width:100%;">
<caption>mtcars2 summary with p-values</caption>
<colgroup>
<col width="18%" />
<col width="18%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
<th align="left">P-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
<td align="left"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
<td align="left"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
<td align="left"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"><em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Another option you might consider is to have the p-value in the row
group name. Consider the following construction. The p-values are added
to the names of the row groups when building the summary table.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>gear_summary <span class="ot">&lt;-</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">&quot;Forward Gears&quot;</span> <span class="ot">=</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;Three&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">3</span>),</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>            <span class="st">&quot;Four&quot;</span>  <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">4</span>),</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>            <span class="st">&quot;Five&quot;</span>  <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(gear <span class="sc">==</span> <span class="dv">5</span>)),</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>       <span class="st">&quot;Transmission&quot;</span> <span class="ot">=</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>       <span class="fu">list</span>(<span class="st">&quot;Automatic&quot;</span> <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(am <span class="sc">==</span> <span class="dv">0</span>),</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>            <span class="st">&quot;Manual&quot;</span>    <span class="ot">=</span> <span class="er">~</span> qwraps2<span class="sc">::</span><span class="fu">n_perc0</span>(am <span class="sc">==</span> <span class="dv">1</span>))</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>       )</span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>gear_summary <span class="ot">&lt;-</span></span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a><span class="fu">setNames</span>(gear_summary,</span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a>         <span class="fu">c</span>(</span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a>         <span class="fu">paste</span>(<span class="st">&quot;Forward Gears: &quot;</span>, <span class="fu">frmtp</span>(<span class="fu">fisher.test</span>(<span class="fu">xtabs</span>( <span class="sc">~</span> gear <span class="sc">+</span> cyl_factor, <span class="at">data =</span> mtcars2))<span class="sc">$</span>p.value)),</span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a>         <span class="fu">paste</span>(<span class="st">&quot;Transmission: &quot;</span>,  <span class="fu">frmtp</span>(<span class="fu">fisher.test</span>(<span class="fu">xtabs</span>( <span class="sc">~</span> am <span class="sc">+</span> cyl_factor, <span class="at">data =</span> mtcars2))<span class="sc">$</span>p.value)))</span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a>         )</span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a></span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a><span class="fu">summary_table</span>(mtcars2, gear_summary, <span class="at">by =</span> <span class="st">&quot;cyl_factor&quot;</span>)</span></code></pre></div>
<table>
<colgroup>
<col width="34%" />
<col width="21%" />
<col width="22%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Forward Gears: <em>P</em> &lt;
0.0001</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="odd">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="even">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
<tr class="odd">
<td align="left"><strong>Transmission: <em>P</em> = 0.0091</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Automatic</td>
<td align="left">4 (57)</td>
<td align="left">3 (27)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="odd">
<td align="left">   Manual</td>
<td align="left">3 (43)</td>
<td align="left">8 (73)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
</div>
<div id="rbind-summary_table" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> rbind
summary_table</h2>
<p>There is a rbind method of summary tables. This can be useful when
building a large a table in smaller sections would be advantageous. For
example, it might be helpful to add p-values to a summary table with
just one row group and then rbind all the tables together for printing.
Consider that in the above example for adding p-values we have made an
assumption that the order of the summary and the <code>mpvals</code>
will be static. Remembering to make the sequence changes in more than
one location can be more difficult than we would like to admit. Writing
code to be robust to such changes is preferable.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>t_mpg  <span class="ot">&lt;-</span> <span class="fu">summary_table</span>(mtcars2, <span class="at">summaries =</span> our_summary1[<span class="st">&quot;Miles Per Gallon&quot;</span>], <span class="at">by =</span> <span class="st">&quot;cyl_factor&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>t_disp <span class="ot">&lt;-</span> <span class="fu">summary_table</span>(mtcars2, <span class="at">summaries =</span> our_summary1[<span class="st">&quot;Displacement&quot;</span>], <span class="at">by =</span> <span class="st">&quot;cyl_factor&quot;</span>)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>t_wt   <span class="ot">&lt;-</span> <span class="fu">summary_table</span>(mtcars2, <span class="at">summaries =</span> our_summary1[<span class="st">&quot;Weight (1000 lbs)&quot;</span>], <span class="at">by =</span> <span class="st">&quot;cyl_factor&quot;</span>)</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>t_mpg  <span class="ot">&lt;-</span> <span class="fu">cbind</span>(t_mpg,  <span class="st">&quot;pvalue&quot;</span> <span class="ot">=</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>t_disp <span class="ot">&lt;-</span> <span class="fu">cbind</span>(t_disp, <span class="st">&quot;pvalue&quot;</span> <span class="ot">=</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a>t_wt   <span class="ot">&lt;-</span> <span class="fu">cbind</span>(t_wt,   <span class="st">&quot;pvalue&quot;</span> <span class="ot">=</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a>t_mpg[ <span class="fu">grepl</span>(<span class="st">&quot;mean&quot;</span>, t_mpg[, <span class="dv">1</span>]),  <span class="st">&quot;pvalue&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;mpg-pvalue&quot;</span></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a>t_disp[<span class="fu">grepl</span>(<span class="st">&quot;mean&quot;</span>, t_disp[, <span class="dv">1</span>]), <span class="st">&quot;pvalue&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;disp-pvalue&quot;</span></span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a>t_wt[  <span class="fu">grepl</span>(<span class="st">&quot;mean&quot;</span>, t_wt[, <span class="dv">1</span>]),   <span class="st">&quot;pvalue&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;wt-pvalue&quot;</span></span></code></pre></div>
<p>Calling rbind now will let us have the table in different sequences
without having to worry about the alignment of rows between different
elements:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">rbind</span>(t_mpg, t_disp, t_wt)</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="do">## |                       |6 cylinders (N = 7)   |4 cylinders (N = 11)  |8 cylinders (N = 14)  |pvalue      |</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="do">## |:----------------------|:---------------------|:---------------------|:---------------------|:-----------|</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="do">## |**Miles Per Gallon**   |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |17.8                  |21.4                  |10.4                  |            |</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |21.4                  |33.9                  |19.2                  |            |</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |19.74 &amp;plusmn; 1.45   |26.66 &amp;plusmn; 4.51   |15.10 &amp;plusmn; 2.56   |mpg-pvalue  |</span></span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a><span class="do">## |**Displacement**       |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |145                   |71.1                  |275.8                 |            |</span></span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; median    |167.6                 |108                   |350.5                 |            |</span></span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |258                   |146.7                 |472                   |            |</span></span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |183.31 &amp;plusmn; 41.56 |105.14 &amp;plusmn; 26.87 |353.10 &amp;plusmn; 67.77 |disp-pvalue |</span></span>
<span id="cb20-15"><a href="#cb20-15" tabindex="-1"></a><span class="do">## |**Weight (1000 lbs)**  |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span id="cb20-16"><a href="#cb20-16" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |2.62                  |1.513                 |3.17                  |            |</span></span>
<span id="cb20-17"><a href="#cb20-17" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |3.46                  |3.19                  |5.424                 |            |</span></span>
<span id="cb20-18"><a href="#cb20-18" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |3.12 &amp;plusmn; 0.36    |2.29 &amp;plusmn; 0.57    |4.00 &amp;plusmn; 0.76    |wt-pvalue   |</span></span>
<span id="cb20-19"><a href="#cb20-19" tabindex="-1"></a><span class="fu">rbind</span>(t_wt, t_disp, t_mpg)</span>
<span id="cb20-20"><a href="#cb20-20" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-21"><a href="#cb20-21" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-22"><a href="#cb20-22" tabindex="-1"></a><span class="do">## |                       |6 cylinders (N = 7)   |4 cylinders (N = 11)  |8 cylinders (N = 14)  |pvalue      |</span></span>
<span id="cb20-23"><a href="#cb20-23" tabindex="-1"></a><span class="do">## |:----------------------|:---------------------|:---------------------|:---------------------|:-----------|</span></span>
<span id="cb20-24"><a href="#cb20-24" tabindex="-1"></a><span class="do">## |**Weight (1000 lbs)**  |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span id="cb20-25"><a href="#cb20-25" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |2.62                  |1.513                 |3.17                  |            |</span></span>
<span id="cb20-26"><a href="#cb20-26" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |3.46                  |3.19                  |5.424                 |            |</span></span>
<span id="cb20-27"><a href="#cb20-27" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |3.12 &amp;plusmn; 0.36    |2.29 &amp;plusmn; 0.57    |4.00 &amp;plusmn; 0.76    |wt-pvalue   |</span></span>
<span id="cb20-28"><a href="#cb20-28" tabindex="-1"></a><span class="do">## |**Displacement**       |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span id="cb20-29"><a href="#cb20-29" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |145                   |71.1                  |275.8                 |            |</span></span>
<span id="cb20-30"><a href="#cb20-30" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; median    |167.6                 |108                   |350.5                 |            |</span></span>
<span id="cb20-31"><a href="#cb20-31" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |258                   |146.7                 |472                   |            |</span></span>
<span id="cb20-32"><a href="#cb20-32" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |183.31 &amp;plusmn; 41.56 |105.14 &amp;plusmn; 26.87 |353.10 &amp;plusmn; 67.77 |disp-pvalue |</span></span>
<span id="cb20-33"><a href="#cb20-33" tabindex="-1"></a><span class="do">## |**Miles Per Gallon**   |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span id="cb20-34"><a href="#cb20-34" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; min       |17.8                  |21.4                  |10.4                  |            |</span></span>
<span id="cb20-35"><a href="#cb20-35" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; max       |21.4                  |33.9                  |19.2                  |            |</span></span>
<span id="cb20-36"><a href="#cb20-36" tabindex="-1"></a><span class="do">## |&amp;nbsp;&amp;nbsp; mean (sd) |19.74 &amp;plusmn; 1.45   |26.66 &amp;plusmn; 4.51   |15.10 &amp;plusmn; 2.56   |mpg-pvalue  |</span></span></code></pre></div>
</div>
<div id="using-variable-labels" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Using Variable
Labels</h2>
<p>Some data management paradigms will use attributes to keep a label
associated with a variable in a data.frame. Notable examples are the
<em><a href="https://cran.r-project.org/package=Hmisc">Hmisc</a></em>
and <em><a href="https://cran.r-project.org/package=sjPlot">sjPlot</a></em>. If you
associate a label with a variable in the data frame the that label will
be used when building a summary table. This feature was suggested <a href="https://github.com/dewittpe/qwraps2/issues/74" class="uri">https://github.com/dewittpe/qwraps2/issues/74</a> and
implemented thusly:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>new_data_frame <span class="ot">&lt;-</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">age =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">20</span>, <span class="dv">24</span>, <span class="dv">17</span>, <span class="dv">43</span>),</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>             <span class="at">edu =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">2</span>),</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>             <span class="at">rt  =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.04</span>, <span class="fl">0.02</span>, <span class="fl">0.10</span>, <span class="fl">0.06</span>))</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="co"># Set a label for the variables</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="fu">attr</span>(new_data_frame<span class="sc">$</span>age, <span class="st">&quot;label&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Age in years&quot;</span></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a><span class="fu">attr</span>(new_data_frame<span class="sc">$</span>rt,  <span class="st">&quot;label&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Reaction time&quot;</span></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a><span class="co"># mistakenly set the attribute to name instead of label</span></span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a><span class="fu">attr</span>(new_data_frame<span class="sc">$</span>edu, <span class="st">&quot;name&quot;</span>) <span class="ot">&lt;-</span> <span class="st">&quot;Education&quot;</span></span></code></pre></div>
<p>When calling <code>qsummary</code> the provide labels for the age and
rt variables will be used. Since the attribute “label” does not exist
for the edu variable, edu will be used in the output.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">qsummary</span>(new_data_frame)</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="do">## $`Age in years`</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="do">## $`Age in years`$minimum</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(age))</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="do">## $`Age in years`$`median (IQR)`</span></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(age)</span></span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="do">## $`Age in years`$`mean (sd)`</span></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(age)</span></span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a><span class="do">## $`Age in years`$maximum</span></span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(age))</span></span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a><span class="do">## $edu</span></span>
<span id="cb22-17"><a href="#cb22-17" tabindex="-1"></a><span class="do">## $edu$minimum</span></span>
<span id="cb22-18"><a href="#cb22-18" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(edu))</span></span>
<span id="cb22-19"><a href="#cb22-19" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-20"><a href="#cb22-20" tabindex="-1"></a><span class="do">## $edu$`median (IQR)`</span></span>
<span id="cb22-21"><a href="#cb22-21" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(edu)</span></span>
<span id="cb22-22"><a href="#cb22-22" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-23"><a href="#cb22-23" tabindex="-1"></a><span class="do">## $edu$`mean (sd)`</span></span>
<span id="cb22-24"><a href="#cb22-24" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(edu)</span></span>
<span id="cb22-25"><a href="#cb22-25" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-26"><a href="#cb22-26" tabindex="-1"></a><span class="do">## $edu$maximum</span></span>
<span id="cb22-27"><a href="#cb22-27" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(edu))</span></span>
<span id="cb22-28"><a href="#cb22-28" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-29"><a href="#cb22-29" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-30"><a href="#cb22-30" tabindex="-1"></a><span class="do">## $`Reaction time`</span></span>
<span id="cb22-31"><a href="#cb22-31" tabindex="-1"></a><span class="do">## $`Reaction time`$minimum</span></span>
<span id="cb22-32"><a href="#cb22-32" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(rt))</span></span>
<span id="cb22-33"><a href="#cb22-33" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-34"><a href="#cb22-34" tabindex="-1"></a><span class="do">## $`Reaction time`$`median (IQR)`</span></span>
<span id="cb22-35"><a href="#cb22-35" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(rt)</span></span>
<span id="cb22-36"><a href="#cb22-36" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-37"><a href="#cb22-37" tabindex="-1"></a><span class="do">## $`Reaction time`$`mean (sd)`</span></span>
<span id="cb22-38"><a href="#cb22-38" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(rt)</span></span>
<span id="cb22-39"><a href="#cb22-39" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb22-40"><a href="#cb22-40" tabindex="-1"></a><span class="do">## $`Reaction time`$maximum</span></span>
<span id="cb22-41"><a href="#cb22-41" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(rt))</span></span></code></pre></div>
<p>This behavior is also seen with the <code>summary_table</code>
call.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">summary_table</span>(new_data_frame)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">new_data_frame (N = 5)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Age in years</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">17.00</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">20.00 (18.00, 24.00)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">24.40 ± 10.74</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">43.00</td>
</tr>
<tr class="even">
<td align="left"><strong>edu</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   minimum</td>
<td align="left">1.00</td>
</tr>
<tr class="even">
<td align="left">   median (IQR)</td>
<td align="left">2.00 (1.00, 3.00)</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">2.40 ± 1.67</td>
</tr>
<tr class="even">
<td align="left">   maximum</td>
<td align="left">5.00</td>
</tr>
<tr class="odd">
<td align="left"><strong>Reaction time</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">0.01</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">0.04 (0.02, 0.06)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">0.05 ± 0.04</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">0.10</td>
</tr>
</tbody>
</table>
</div>
<div id="alternative-building-of-the-summaries" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Alternative building
of the summaries</h2>
<p>The task of building the <code>summaries</code> list-of-lists can be
tedious. The function <code>qummaries</code> is designed to make it
easier. <code>qummaries</code> will use a set of predefined functions to
summarize numeric columns of a data.frame, a set of arguments to pass to
<code>n_perc</code> for categorical (character and factor)
variables.</p>
<p>By default, calling <code>summary_table</code> will use the default
summary metrics defined by <code>qsummary</code>. The purpose of
<code>qsummary</code> is to provide the same summary for all numeric
variables within a data.frame and a single style of summary for
categorical variables within the data.frame. For example, the default
summary for a set of variables from the <code>mtcars2</code> data set
is</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">qsummary</span>(mtcars2[, <span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;wt&quot;</span>)])</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="do">## $mpg</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="do">## $mpg$minimum</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(mpg))</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a><span class="do">## $mpg$`median (IQR)`</span></span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(mpg)</span></span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a><span class="do">## $mpg$`mean (sd)`</span></span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(mpg)</span></span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a><span class="do">## $mpg$maximum</span></span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(mpg))</span></span>
<span id="cb24-14"><a href="#cb24-14" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-15"><a href="#cb24-15" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-16"><a href="#cb24-16" tabindex="-1"></a><span class="do">## $cyl_factor</span></span>
<span id="cb24-17"><a href="#cb24-17" tabindex="-1"></a><span class="do">## $cyl_factor$`6 cylinders`</span></span>
<span id="cb24-18"><a href="#cb24-18" tabindex="-1"></a><span class="do">## ~qwraps2::n_perc(cyl_factor == &quot;6 cylinders&quot;, digits = 0, show_symbol = FALSE)</span></span>
<span id="cb24-19"><a href="#cb24-19" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-20"><a href="#cb24-20" tabindex="-1"></a><span class="do">## $cyl_factor$`4 cylinders`</span></span>
<span id="cb24-21"><a href="#cb24-21" tabindex="-1"></a><span class="do">## ~qwraps2::n_perc(cyl_factor == &quot;4 cylinders&quot;, digits = 0, show_symbol = FALSE)</span></span>
<span id="cb24-22"><a href="#cb24-22" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-23"><a href="#cb24-23" tabindex="-1"></a><span class="do">## $cyl_factor$`8 cylinders`</span></span>
<span id="cb24-24"><a href="#cb24-24" tabindex="-1"></a><span class="do">## ~qwraps2::n_perc(cyl_factor == &quot;8 cylinders&quot;, digits = 0, show_symbol = FALSE)</span></span>
<span id="cb24-25"><a href="#cb24-25" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-26"><a href="#cb24-26" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-27"><a href="#cb24-27" tabindex="-1"></a><span class="do">## $wt</span></span>
<span id="cb24-28"><a href="#cb24-28" tabindex="-1"></a><span class="do">## $wt$minimum</span></span>
<span id="cb24-29"><a href="#cb24-29" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(min(wt))</span></span>
<span id="cb24-30"><a href="#cb24-30" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-31"><a href="#cb24-31" tabindex="-1"></a><span class="do">## $wt$`median (IQR)`</span></span>
<span id="cb24-32"><a href="#cb24-32" tabindex="-1"></a><span class="do">## ~qwraps2::median_iqr(wt)</span></span>
<span id="cb24-33"><a href="#cb24-33" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-34"><a href="#cb24-34" tabindex="-1"></a><span class="do">## $wt$`mean (sd)`</span></span>
<span id="cb24-35"><a href="#cb24-35" tabindex="-1"></a><span class="do">## ~qwraps2::mean_sd(wt)</span></span>
<span id="cb24-36"><a href="#cb24-36" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-37"><a href="#cb24-37" tabindex="-1"></a><span class="do">## $wt$maximum</span></span>
<span id="cb24-38"><a href="#cb24-38" tabindex="-1"></a><span class="do">## ~qwraps2::frmt(max(wt))</span></span></code></pre></div>
<p>That default summary is used for a table as follows:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">summary_table</span>(mtcars2[, <span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;wt&quot;</span>)])</span></code></pre></div>
<table>
<colgroup>
<col width="34%" />
<col width="65%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2[, c(“mpg”, “cyl_factor”, “wt”)] (N = 32)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">10.40</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">19.20 (15.43, 22.80)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">33.90</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7 (22)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">11 (34)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">14 (44)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   minimum</td>
<td align="left">1.51</td>
</tr>
<tr class="even">
<td align="left">   median (IQR)</td>
<td align="left">3.33 (2.58, 3.61)</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left">   maximum</td>
<td align="left">5.42</td>
</tr>
</tbody>
</table>
<p>Now, say we want to only report the minimum and maximum for each of
the numeric variables and for the categorical variables we want two show
the denominator for each category and for the percentage, to one digit
with the percent symbol in the table. Note that when defining the list
of numeric_summaries that the argument place holder is the
<code>%s%</code> character.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>new_summary <span class="ot">&lt;-</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>  <span class="fu">qsummary</span>(mtcars2[, <span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl_factor&quot;</span>, <span class="st">&quot;wt&quot;</span>)],</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>           <span class="at">numeric_summaries =</span> <span class="fu">list</span>(<span class="st">&quot;Minimum&quot;</span> <span class="ot">=</span> <span class="st">&quot;~ min(%s)&quot;</span>,</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>                                    <span class="st">&quot;Maximum&quot;</span> <span class="ot">=</span> <span class="st">&quot;~ max(%s)&quot;</span>),</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>           <span class="at">n_perc_args =</span> <span class="fu">list</span>(<span class="at">digits =</span> <span class="dv">1</span>, <span class="at">show_symbol =</span> <span class="cn">TRUE</span>, <span class="at">show_denom =</span> <span class="st">&quot;always&quot;</span>))</span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a><span class="fu">str</span>(new_summary)</span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a><span class="do">## List of 3</span></span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a><span class="do">##  $ mpg       :List of 2</span></span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a><span class="do">##   ..$ Minimum:Class &#39;formula&#39;  language ~min(mpg)</span></span>
<span id="cb26-10"><a href="#cb26-10" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb26-11"><a href="#cb26-11" tabindex="-1"></a><span class="do">##   ..$ Maximum:Class &#39;formula&#39;  language ~max(mpg)</span></span>
<span id="cb26-12"><a href="#cb26-12" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb26-13"><a href="#cb26-13" tabindex="-1"></a><span class="do">##  $ cyl_factor:List of 3</span></span>
<span id="cb26-14"><a href="#cb26-14" tabindex="-1"></a><span class="do">##   ..$ 6 cylinders:Class &#39;formula&#39;  language ~qwraps2::n_perc(cyl_factor == &quot;6 cylinders&quot;, digits = 1, show_symbol = TRUE,      show_denom = &quot;always&quot;)</span></span>
<span id="cb26-15"><a href="#cb26-15" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb26-16"><a href="#cb26-16" tabindex="-1"></a><span class="do">##   ..$ 4 cylinders:Class &#39;formula&#39;  language ~qwraps2::n_perc(cyl_factor == &quot;4 cylinders&quot;, digits = 1, show_symbol = TRUE,      show_denom = &quot;always&quot;)</span></span>
<span id="cb26-17"><a href="#cb26-17" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb26-18"><a href="#cb26-18" tabindex="-1"></a><span class="do">##   ..$ 8 cylinders:Class &#39;formula&#39;  language ~qwraps2::n_perc(cyl_factor == &quot;8 cylinders&quot;, digits = 1, show_symbol = TRUE,      show_denom = &quot;always&quot;)</span></span>
<span id="cb26-19"><a href="#cb26-19" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb26-20"><a href="#cb26-20" tabindex="-1"></a><span class="do">##  $ wt        :List of 2</span></span>
<span id="cb26-21"><a href="#cb26-21" tabindex="-1"></a><span class="do">##   ..$ Minimum:Class &#39;formula&#39;  language ~min(wt)</span></span>
<span id="cb26-22"><a href="#cb26-22" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; </span></span>
<span id="cb26-23"><a href="#cb26-23" tabindex="-1"></a><span class="do">##   ..$ Maximum:Class &#39;formula&#39;  language ~max(wt)</span></span>
<span id="cb26-24"><a href="#cb26-24" tabindex="-1"></a><span class="do">##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt;</span></span></code></pre></div>
<p>The resulting table is:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">summary_table</span>(mtcars2, new_summary)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Minimum</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   Maximum</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7/32 (21.9%)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">11/32 (34.4%)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">14/32 (43.8%)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Minimum</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   Maximum</td>
<td align="left">5.424</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="session-info" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Session Info</h1>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">sessionInfo</span>(), <span class="at">local =</span> <span class="cn">FALSE</span>)</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="do">## R version 4.3.2 (2023-10-31)</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="do">## Platform: x86_64-apple-darwin20 (64-bit)</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="do">## Running under: macOS Monterey 12.6</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="do">## Matrix products: default</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="do">## BLAS:   /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib </span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="do">## LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0</span></span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a><span class="do">## attached base packages:</span></span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a><span class="do">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb28-13"><a href="#cb28-13" tabindex="-1"></a><span class="do">## other attached packages:</span></span>
<span id="cb28-14"><a href="#cb28-14" tabindex="-1"></a><span class="do">## [1] survival_3.5-7 qwraps2_0.6.0 </span></span>
<span id="cb28-15"><a href="#cb28-15" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb28-16"><a href="#cb28-16" tabindex="-1"></a><span class="do">## loaded via a namespace (and not attached):</span></span>
<span id="cb28-17"><a href="#cb28-17" tabindex="-1"></a><span class="do">##  [1] glmnet_4.1-8     Matrix_1.6-2     gtable_0.3.4     jsonlite_1.8.7  </span></span>
<span id="cb28-18"><a href="#cb28-18" tabindex="-1"></a><span class="do">##  [5] dplyr_1.1.3      compiler_4.3.2   highr_0.10       tidyselect_1.2.0</span></span>
<span id="cb28-19"><a href="#cb28-19" tabindex="-1"></a><span class="do">##  [9] Rcpp_1.0.11      jquerylib_0.1.4  splines_4.3.2    scales_1.2.1    </span></span>
<span id="cb28-20"><a href="#cb28-20" tabindex="-1"></a><span class="do">## [13] yaml_2.3.7       fastmap_1.1.1    lattice_0.22-5   ggplot2_3.4.4   </span></span>
<span id="cb28-21"><a href="#cb28-21" tabindex="-1"></a><span class="do">## [17] R6_2.5.1         labeling_0.4.3   generics_0.1.3   shape_1.4.6     </span></span>
<span id="cb28-22"><a href="#cb28-22" tabindex="-1"></a><span class="do">## [21] knitr_1.45       iterators_1.0.14 tibble_3.2.1     munsell_0.5.0   </span></span>
<span id="cb28-23"><a href="#cb28-23" tabindex="-1"></a><span class="do">## [25] bslib_0.5.1      pillar_1.9.0     rlang_1.1.2      utf8_1.2.4      </span></span>
<span id="cb28-24"><a href="#cb28-24" tabindex="-1"></a><span class="do">## [29] cachem_1.0.8     xfun_0.41        sass_0.4.7       cli_3.6.1       </span></span>
<span id="cb28-25"><a href="#cb28-25" tabindex="-1"></a><span class="do">## [33] withr_2.5.2      magrittr_2.0.3   foreach_1.5.2    digest_0.6.33   </span></span>
<span id="cb28-26"><a href="#cb28-26" tabindex="-1"></a><span class="do">## [37] grid_4.3.2       lifecycle_1.0.4  vctrs_0.6.4      evaluate_0.23   </span></span>
<span id="cb28-27"><a href="#cb28-27" tabindex="-1"></a><span class="do">## [41] glue_1.6.2       farver_2.1.1     codetools_0.2-19 fansi_1.0.5     </span></span>
<span id="cb28-28"><a href="#cb28-28" tabindex="-1"></a><span class="do">## [45] colorspace_2.1-0 rmarkdown_2.25   tools_4.3.2      pkgconfig_2.0.3 </span></span>
<span id="cb28-29"><a href="#cb28-29" tabindex="-1"></a><span class="do">## [49] htmltools_0.5.7</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
